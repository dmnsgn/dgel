<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>&quot;shaders/noise/simplex.glsl&quot; | dgel</title>
	<meta name="description" content="Documentation for dgel">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">dgel</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../globals.html">Globals</a>
				</li>
				<li>
					<a href="_shaders_noise_simplex_glsl_.html">&quot;shaders/noise/simplex.glsl&quot;</a>
				</li>
			</ul>
			<h1>Module &quot;shaders/noise/simplex.glsl&quot;</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section tsd-is-not-exported">
							<h3>Variables</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported"><a href="_shaders_noise_simplex_glsl_.html#snoise2d" class="tsd-kind-icon">SNOISE2D</a></li>
								<li class="tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported"><a href="_shaders_noise_simplex_glsl_.html#snoise3d" class="tsd-kind-icon">SNOISE3D</a></li>
								<li class="tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported"><a href="_shaders_noise_simplex_glsl_.html#snoise4d" class="tsd-kind-icon">SNOISE4D</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group tsd-is-not-exported">
				<h2>Variables</h2>
				<section class="tsd-panel tsd-member tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported">
					<a name="snoise2d" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagConst">Const</span> SNOISE2D</h3>
					<div class="tsd-signature tsd-kind-icon">SNOISE2D<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">"vec3 mod289(vec3 x) {return x - floor(x * (1.0 / 289.0)) * 289.0;}vec2 mod289(vec2 x) {return x - floor(x * (1.0 / 289.0)) * 289.0;}vec3 permute(vec3 x) {return mod289(((x*34.0)+1.0)*x);}float snoise2d(vec2 v){const vec4 C &#x3D; vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.00.366025403784439,  // 0.5*(sqrt(3.0)-1.0)-0.577350269189626,  // -1.0 + 2.0 * C.x0.024390243902439); // 1.0 / 41.0// First cornervec2 i  &#x3D; floor(v + dot(v, C.yy) );vec2 x0 &#x3D; v -   i + dot(i, C.xx);// Other cornersvec2 i1;//i1.x &#x3D; step( x0.y, x0.x ); // x0.x &gt; x0.y ? 1.0 : 0.0//i1.y &#x3D; 1.0 - i1.x;i1 &#x3D; (x0.x &gt; x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);// x0 &#x3D; x0 - 0.0 + 0.0 * C.xx ;// x1 &#x3D; x0 - i1 + 1.0 * C.xx ;// x2 &#x3D; x0 - 1.0 + 2.0 * C.xx ;vec4 x12 &#x3D; x0.xyxy + C.xxzz;x12.xy -&#x3D; i1;// Permutationsi &#x3D; mod289(i); // Avoid truncation effects in permutationvec3 p &#x3D; permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))+ i.x + vec3(0.0, i1.x, 1.0 ));vec3 m &#x3D; max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);m &#x3D; m*m ;m &#x3D; m*m ;// Gradients: 41 points uniformly over a line, mapped onto a diamond.// The ring size 17*17 &#x3D; 289 is close to a multiple of 41 (41*7 &#x3D; 287)vec3 x &#x3D; 2.0 * fract(p * C.www) - 1.0;vec3 h &#x3D; abs(x) - 0.5;vec3 ox &#x3D; floor(x + 0.5);vec3 a0 &#x3D; x - ox;// Normalise gradients implicitly by scaling m// Approximation of: m *&#x3D; inversesqrt( a0*a0 + h*h );m *&#x3D; 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );// Compute final noise value at Pvec3 g;g.x  &#x3D; a0.x  * x0.x  + h.x  * x0.y;g.yz &#x3D; a0.yz * x12.xz + h.yz * x12.yw;return 130.0 * dot(m, g);}"</span><span class="tsd-signature-symbol"> = &#x60;vec3 mod289(vec3 x) {return x - floor(x * (1.0 / 289.0)) * 289.0;}vec2 mod289(vec2 x) {return x - floor(x * (1.0 / 289.0)) * 289.0;}vec3 permute(vec3 x) {return mod289(((x*34.0)+1.0)*x);}float snoise2d(vec2 v){const vec4 C &#x3D; vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.00.366025403784439,  // 0.5*(sqrt(3.0)-1.0)-0.577350269189626,  // -1.0 + 2.0 * C.x0.024390243902439); // 1.0 / 41.0// First cornervec2 i  &#x3D; floor(v + dot(v, C.yy) );vec2 x0 &#x3D; v -   i + dot(i, C.xx);// Other cornersvec2 i1;//i1.x &#x3D; step( x0.y, x0.x ); // x0.x &gt; x0.y ? 1.0 : 0.0//i1.y &#x3D; 1.0 - i1.x;i1 &#x3D; (x0.x &gt; x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);// x0 &#x3D; x0 - 0.0 + 0.0 * C.xx ;// x1 &#x3D; x0 - i1 + 1.0 * C.xx ;// x2 &#x3D; x0 - 1.0 + 2.0 * C.xx ;vec4 x12 &#x3D; x0.xyxy + C.xxzz;x12.xy -&#x3D; i1;// Permutationsi &#x3D; mod289(i); // Avoid truncation effects in permutationvec3 p &#x3D; permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))+ i.x + vec3(0.0, i1.x, 1.0 ));vec3 m &#x3D; max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);m &#x3D; m*m ;m &#x3D; m*m ;// Gradients: 41 points uniformly over a line, mapped onto a diamond.// The ring size 17*17 &#x3D; 289 is close to a multiple of 41 (41*7 &#x3D; 287)vec3 x &#x3D; 2.0 * fract(p * C.www) - 1.0;vec3 h &#x3D; abs(x) - 0.5;vec3 ox &#x3D; floor(x + 0.5);vec3 a0 &#x3D; x - ox;// Normalise gradients implicitly by scaling m// Approximation of: m *&#x3D; inversesqrt( a0*a0 + h*h );m *&#x3D; 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );// Compute final noise value at Pvec3 g;g.x  &#x3D; a0.x  * x0.x  + h.x  * x0.y;g.yz &#x3D; a0.yz * x12.xz + h.yz * x12.yw;return 130.0 * dot(m, g);}&#x60;</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/dmnsgn/dgel/blob/e5ff029/src/shaders/noise/simplex.glsl.ts#L3">src/shaders/noise/simplex.glsl.ts:3</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported">
					<a name="snoise3d" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagConst">Const</span> SNOISE3D</h3>
					<div class="tsd-signature tsd-kind-icon">SNOISE3D<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = &#x60;vec3 mod289(vec3 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}${FUNCTIONS}float snoise3d(vec3 v){const vec2  C &#x3D; vec2(1.0/6.0, 1.0/3.0) ;const vec4  D &#x3D; vec4(0.0, 0.5, 1.0, 2.0);// First cornervec3 i  &#x3D; floor(v + dot(v, C.yyy) );vec3 x0 &#x3D;   v - i + dot(i, C.xxx) ;// Other cornersvec3 g &#x3D; step(x0.yzx, x0.xyz);vec3 l &#x3D; 1.0 - g;vec3 i1 &#x3D; min( g.xyz, l.zxy );vec3 i2 &#x3D; max( g.xyz, l.zxy );//   x0 &#x3D; x0 - 0.0 + 0.0 * C.xxx;//   x1 &#x3D; x0 - i1  + 1.0 * C.xxx;//   x2 &#x3D; x0 - i2  + 2.0 * C.xxx;//   x3 &#x3D; x0 - 1.0 + 3.0 * C.xxx;vec3 x1 &#x3D; x0 - i1 + C.xxx;vec3 x2 &#x3D; x0 - i2 + C.yyy; // 2.0*C.x &#x3D; 1/3 &#x3D; C.yvec3 x3 &#x3D; x0 - D.yyy;      // -1.0+3.0*C.x &#x3D; -0.5 &#x3D; -D.y// Permutationsi &#x3D; mod289(i);vec4 p &#x3D; permute( permute( permute(i.z + vec4(0.0, i1.z, i2.z, 1.0 ))+ i.y + vec4(0.0, i1.y, i2.y, 1.0 ))+ i.x + vec4(0.0, i1.x, i2.x, 1.0 ));// Gradients: 7x7 points over a square, mapped onto an octahedron.// The ring size 17*17 &#x3D; 289 is close to a multiple of 49 (49*6 &#x3D; 294)float n_ &#x3D; 0.142857142857; // 1.0/7.0vec3  ns &#x3D; n_ * D.wyz - D.xzx;vec4 j &#x3D; p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)vec4 x_ &#x3D; floor(j * ns.z);vec4 y_ &#x3D; floor(j - 7.0 * x_ );    // mod(j,N)vec4 x &#x3D; x_ *ns.x + ns.yyyy;vec4 y &#x3D; y_ *ns.x + ns.yyyy;vec4 h &#x3D; 1.0 - abs(x) - abs(y);vec4 b0 &#x3D; vec4( x.xy, y.xy );vec4 b1 &#x3D; vec4( x.zw, y.zw );//vec4 s0 &#x3D; vec4(lessThan(b0,0.0))*2.0 - 1.0;//vec4 s1 &#x3D; vec4(lessThan(b1,0.0))*2.0 - 1.0;vec4 s0 &#x3D; floor(b0)*2.0 + 1.0;vec4 s1 &#x3D; floor(b1)*2.0 + 1.0;vec4 sh &#x3D; -step(h, vec4(0.0));vec4 a0 &#x3D; b0.xzyw + s0.xzyw*sh.xxyy ;vec4 a1 &#x3D; b1.xzyw + s1.xzyw*sh.zzww ;vec3 p0 &#x3D; vec3(a0.xy,h.x);vec3 p1 &#x3D; vec3(a0.zw,h.y);vec3 p2 &#x3D; vec3(a1.xy,h.z);vec3 p3 &#x3D; vec3(a1.zw,h.w);//Normalise gradientsvec4 norm &#x3D; taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));p0 *&#x3D; norm.x;p1 *&#x3D; norm.y;p2 *&#x3D; norm.z;p3 *&#x3D; norm.w;// Mix final noise valuevec4 m &#x3D; max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);m &#x3D; m * m;return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),dot(p2,x2), dot(p3,x3) ) );}&#x60;</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/dmnsgn/dgel/blob/e5ff029/src/shaders/noise/simplex.glsl.ts#L66">src/shaders/noise/simplex.glsl.ts:66</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported">
					<a name="snoise4d" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagConst">Const</span> SNOISE4D</h3>
					<div class="tsd-signature tsd-kind-icon">SNOISE4D<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = &#x60;${FUNCTIONS}float mod289(float x) {return x - floor(x * (1.0 / 289.0)) * 289.0;}float permute(float x) {return mod289(((x*34.0)+1.0)*x);}float taylorInvSqrt(float r) {return 1.79284291400159 - 0.85373472095314 * r;}vec4 grad4(float j, vec4 ip){const vec4 ones &#x3D; vec4(1.0, 1.0, 1.0, -1.0);vec4 p,s;p.xyz &#x3D; floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;p.w &#x3D; 1.5 - dot(abs(p.xyz), ones.xyz);s &#x3D; vec4(lessThan(p, vec4(0.0)));p.xyz &#x3D; p.xyz + (s.xyz*2.0 - 1.0) * s.www;return p;}// (sqrt(5) - 1)/4 &#x3D; F4, used once below#define F4 0.309016994374947451float snoise4d(vec4 v){const vec4  C &#x3D; vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G40.276393202250021,  // 2 * G40.414589803375032,  // 3 * G4-0.447213595499958); // -1 + 4 * G4// First cornervec4 i  &#x3D; floor(v + dot(v, vec4(F4)) );vec4 x0 &#x3D; v -   i + dot(i, C.xxxx);// Other corners// Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)vec4 i0;vec3 isX &#x3D; step( x0.yzw, x0.xxx );vec3 isYZ &#x3D; step( x0.zww, x0.yyz );//  i0.x &#x3D; dot( isX, vec3( 1.0 ) );i0.x &#x3D; isX.x + isX.y + isX.z;i0.yzw &#x3D; 1.0 - isX;//  i0.y +&#x3D; dot( isYZ.xy, vec2( 1.0 ) );i0.y +&#x3D; isYZ.x + isYZ.y;i0.zw +&#x3D; 1.0 - isYZ.xy;i0.z +&#x3D; isYZ.z;i0.w +&#x3D; 1.0 - isYZ.z;// i0 now contains the unique values 0,1,2,3 in each channelvec4 i3 &#x3D; clamp( i0, 0.0, 1.0 );vec4 i2 &#x3D; clamp( i0-1.0, 0.0, 1.0 );vec4 i1 &#x3D; clamp( i0-2.0, 0.0, 1.0 );//  x0 &#x3D; x0 - 0.0 + 0.0 * C.xxxx//  x1 &#x3D; x0 - i1  + 1.0 * C.xxxx//  x2 &#x3D; x0 - i2  + 2.0 * C.xxxx//  x3 &#x3D; x0 - i3  + 3.0 * C.xxxx//  x4 &#x3D; x0 - 1.0 + 4.0 * C.xxxxvec4 x1 &#x3D; x0 - i1 + C.xxxx;vec4 x2 &#x3D; x0 - i2 + C.yyyy;vec4 x3 &#x3D; x0 - i3 + C.zzzz;vec4 x4 &#x3D; x0 + C.wwww;// Permutationsi &#x3D; mod289(i);float j0 &#x3D; permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);vec4 j1 &#x3D; permute( permute( permute( permute (i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))+ i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))+ i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))+ i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));// Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope// 7*7*6 &#x3D; 294, which is close to the ring size 17*17 &#x3D; 289.vec4 ip &#x3D; vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;vec4 p0 &#x3D; grad4(j0,   ip);vec4 p1 &#x3D; grad4(j1.x, ip);vec4 p2 &#x3D; grad4(j1.y, ip);vec4 p3 &#x3D; grad4(j1.z, ip);vec4 p4 &#x3D; grad4(j1.w, ip);// Normalise gradientsvec4 norm &#x3D; taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));p0 *&#x3D; norm.x;p1 *&#x3D; norm.y;p2 *&#x3D; norm.z;p3 *&#x3D; norm.w;p4 *&#x3D; taylorInvSqrt(dot(p4,p4));// Mix contributions from the five cornersvec3 m0 &#x3D; max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);vec2 m1 &#x3D; max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);m0 &#x3D; m0 * m0;m1 &#x3D; m1 * m1;return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))+ dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;}&#x60;</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/dmnsgn/dgel/blob/e5ff029/src/shaders/noise/simplex.glsl.ts#L150">src/shaders/noise/simplex.glsl.ts:150</a></li>
						</ul>
					</aside>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../globals.html"><em>Globals</em></a>
					</li>
					<li class="current tsd-kind-module">
						<a href="_shaders_noise_simplex_glsl_.html">&quot;shaders/noise/simplex.glsl&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported">
						<a href="_shaders_noise_simplex_glsl_.html#snoise2d" class="tsd-kind-icon">SNOISE2D</a>
					</li>
					<li class=" tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported">
						<a href="_shaders_noise_simplex_glsl_.html#snoise3d" class="tsd-kind-icon">SNOISE3D</a>
					</li>
					<li class=" tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported">
						<a href="_shaders_noise_simplex_glsl_.html#snoise4d" class="tsd-kind-icon">SNOISE4D</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
</body>
</html>